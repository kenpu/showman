<div class="ng-template lego">
    <div class="container">
        <div ng-repeat="row in content.rows" class="row">
            <div ng-repeat="span in row.spans" class="span col-md-{{span.span}}">
                <h1 ng-if="span.label" ng-class="{'span-label': span.label}">{{span.label}}</h1>
                <md markdown="{{span.markdown}}" ng-click="ding()"></md>
                <!-- ============== controls ==================== -->
                <div class="span-id badge">{{span.id}}</div>
                <span-controls></span-controls>
                <!-- ============== end of controls ============= -->
            </div>
            <!-- ============== controls ==================== -->
            <row-controls></row-controls>
            <!-- ============== end of controls ============= -->
        </div><!-- end of row -->
    </div>
    <style>
    /* ========= row & span ============= */
    .ng-template.lego .span,
    .ng-template.lego .row {
        position: relative;
        min-height: 100px;
    }
    .ng-template.lego .span:hover {
        border: 4px solid #333;
    }
    /* ========= tools ================== */
    .ng-template.lego .tools {
        position: absolute;
        background: #fff;
        color: #888;
        padding: 4px;
        text-align: right;
        -webkit-user-select: none;
    }
    .ng-template.lego .span-controls {
        right: 0;
        bottom: 0;        
    }
    .ng-template.lego .row-controls {
        top: -10px;
        right: 0;
        border: thin solid #333;
    }
    .ng-template.lego .tools              { display: none;  }
    .ng-template.lego .span:hover .span-controls  { display: block; }
    .ng-template.lego .row:hover .row-controls.tools   { display: block; }
    .ng-template.lego .tools span {
        cursor: pointer;
        margin-right: 5px;
    }
    .ng-template.lego .tools span:hover {color: #000;}
    .ng-template.lego .tools span.span-delete:hover {color: #f00;}
    /* ======== id ================ */
    .ng-template.lego .span-id {
        position: absolute;
        top: 0;
        left: 0;
    }
    </style>
</div>